异或的定义：参与运算的两个值，如果两个相应 bit 位相同，则结果为 0，否则为 1.

即：

```python
0 ^ 0 = 0
1 ^ 1 = 0
0 ^ 1 = 1
1 ^ 0 = 1
```

异或运算也可以理解为：对应 bit 位不进位相加。

```python
0 ^ 0 = 0    # 0 + 0 = 0
1 ^ 1 = 0    # 1 + 1 = 0   不进位
0 ^ 1 = 1    # 0 + 1 = 1
1 ^ 0 = 1    # 1 + 0 = 1
```



异或满足性质

1. 归零率：A ^ A = 0
2. 恒等率：A ^ 0 = A
3. 交换率：A ^ B  = B ^ A
4. 结合率：A ^ B ^ C = (A ^ B) ^ C = A ^ ( B ^ C )
5. 自反：A ^ B ^ A = A ^  A ^ B = 0 ^ B = B
6.   $D = A \oplus  B \oplus C \Longrightarrow  \begin{cases} A = D \oplus  B \oplus C \\ B = D \oplus  A \oplus C \\ C = D \oplus  A \oplus B \end{cases}$



多数相互异或求的结果，和异或顺序无关。



根据异或运算，交换 A 和 B 两个数的值



```python
def swap(a, b):
    a = a ^ b
    # b = a ^ b ^ b
    # b = a ^ 0
    # b = a
    b = a ^ b
    # a = a ^ b
    # b = a
    # a = a ^ b ^ a
    # a = 0 ^ b
    # a = b
    a = a ^ b
    print(a,b)

swap(1, 2)
```

<font color=red>注意：上边的异或运算的前提是：a 和 b 在内存中是独立的。</font>



如果 a = b，array[a] 和 array[b] 是同一内存。根据性质一：N ^ N = 0

```python
def swap2(array, a, b):
    array[a] = array[a] ^ array[b]
    array[b] = array[a] ^ array[b]
    array[a] = array[a] ^ array[b]
    print(array)

swap2([1, 2], 1, 1)
```



> 在一个整型数组中，只有一个数出现奇数次。求找到出现奇数次的数。



分析：根据异或性质一，所有出现偶数次： N ^ N = 0，那么出现奇数次的数 A ^ 0 = A

```python
def find_word(array):
    res = 0
    for item in array:
        res ^= item
    return res

print(find_word([1, 1, 2, 3, 3, 4, 4]))
```



> 在一个整型数组中，只有两个数出现奇数次。求找到出现奇数次的数。



分析：假设数组中出现奇数次的数为 a 和 b，那么数组就被分为三部分：[ a , b , other]

1. 遍历数组将所有数据都异或到 eor上，那么最终 eor = a ^ b ，因为 A 和 B 是两个数，那么 a != b。那么 eor 至少有一位等于 1，假设等于 1 是第 x 位。

2. 遍历数组将第 x 为等于 1 数据都异或到 eor’上，那么 eor’ = a 或者 eor’ = b。

   x 位 = 1，可以将 array 中数据分为两组 a 和 b 必定分属不同组（a 与 b 在 x 位上不相同），A = [a , ...] 和 B = [b , ...] 在 A 数组中，除了 a 外其他数都是偶数，在 B 数组中处理 b 外其他数据都是偶数。因为相同的数据会被分到同一组中，其他数据都是偶数。

3. 最终返回 res‘ 和 res ^ res' 



```python
def find_word2(array):
    eor = 0
    for item in array:
        eor ^= item

    # eor = a ^ b
    # eor != 0
    # eor 必然有一个位置上是 1
    # 提取出最右的 1
    right_one = eor & (~eor + 1)
    only_one = 0
    for item in array:
        if right_one & item == 0:
            only_one ^= item

    return only_one, eor ^ only_one


print(find_word2([1, 1, 2, 2, 3, 3, 4, 5, 6, 6]))
```

