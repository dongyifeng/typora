[TOC]

# 融合策略

这种策略返回的列表（item_id,权重）

| 召回策略   | 返回列表 |        |        |
| ---------- | -------- | ------ | ------ |
| 召回策略 X | A：0.9   | B：0.8 | C：0.7 |
| 召回策略 Y | B：0.6   | C：0.6 | D：0.4 |
| 召回策略 Z | C：0.3   | D：0.2 | E：0.1 |

## 按顺序展示

每个策略优先级不同

比如：实时 > 购买数据召回 > 播放数据召回 



## 平均法

- 分母是召回策略个数，分子为权重加和（所有策略召回item 权重之和）
- C 的最终权重：$\frac{（0.7+0.6+0.3）}{3}$ , B 为 $\frac{（0.8+0.6）}{3}$ 



## 加权平均

- 比如三种策略自己指定权重为0.4、0.3、0.3，则B的权重为$\frac{0.4*0.8 + 0.6*0.3 + 0*0.2}{ 0.4+0.3+0.2}$

<font color=red>**缺点**：每个策略的权重是自己设置的，并不准确</font>



## 动态加权法

- 计算 XYZ 三种召回策略的 CTR ，作为每天更新的动态加权。

$CTR = \frac{ 点击数}{展现数}$



<font color=red>**缺点**：只考虑 CTR，不全面</font>

## 机器学习权重法

- 逻辑回归 LR 分类模型预先离线算好各种召回的权重，然后做加权召回

<font color=red>**优点**：考虑更多的特征以及环境因素，会更准确</font>

<font color=red>**缺点**：成本大</font>

