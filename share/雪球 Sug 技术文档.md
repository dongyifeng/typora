[TOC]

# 一、背景

​		搜索关键字智能提示是一个搜索应用的标配，主要作用是避免用户输入错误的搜索词，并将用户引导到相应的关键词上，以提升用户搜索体验。

​		雪球以连接人与资产，让财富的雪球越滚越大为使命，在投资社区领域处于领先地位。为了让用户快速找到目标的股票，大V。我们基于 ES 实现了股票搜索模块。用户在查找股票时主要输入股票名，股票symbol 进行搜索，为了提升用户体验和输入效率，本文实现了一种基于 Trie Tree 前缀匹配查询关键词只能提示（Suggestion）实现。







# 二、需求分析

- 支持前缀匹配原则：在搜索框中输入“中国”，搜索框下面会以中国为前缀，展示“中国平安”、“中国神华”、“中国中免”等等搜索词；输入“贵州”，会提示“贵州茅台”、“贵州燃气”、“贵州百灵”等搜索词。
- 同时支持汉字、拼音输入：由于中文的特点，如果搜索自动提示可以支持拼音的话会给用户带来更大的方便，免得切换输入法。比如，输入 “zhongguo” 提示的关键字和输入“中国”提示的一样，输入“guizhou”与输入“贵州”提示的关键字一样。
- 支持拼音缩写输入：对于较长关键字，为了提高输入效率，有必要提供拼音缩写输入。比如输入“zg”应该能提示出“zhongguo”相似的关键字，输入“gzmt”也一样能提示出“贵州茅台”关键字。
- <font color=red>支持多音字输入提示：比如输入“chongqing”或者“zhongqing”都能提示出“重庆啤酒”、“重庆钢铁”、“重重庆百货”。</font>
- 支持汉字数字转阿拉伯数字：比如输入“360”都能提示出“三六零”。
- 支持Query纠错：比如输入“贵州毛台”都能提示出“贵州茅台”。



# 三、在线服务逻辑



# 四、总结



# 五、展望